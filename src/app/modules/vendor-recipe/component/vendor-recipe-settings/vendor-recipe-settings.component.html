<app-card [title]="'vendor-recipe.item-set-panel.name' | translate">
  <div class="row">
    <div class="col-3">
      <mat-slide-toggle [checked]="settings.vendorRecipeItemSetPanelSettings.enabled" (change)="settings.vendorRecipeItemSetPanelSettings.enabled = $event.checked">
        {{ 'enabled' | translate }}
      </mat-slide-toggle>
    </div>
    <div class="col-3" style="font-size: 12px;">
      {{ 'vendor-recipe.item-set-panel.window-bounds' | translate }}:
      <ng-container *ngIf="settings.vendorRecipeItemSetPanelSettings.bounds; else unsetBoundsTemplate">
        {{ settings.vendorRecipeItemSetPanelSettings.bounds.x }}, {{ settings.vendorRecipeItemSetPanelSettings.bounds.y }} ({{ settings.vendorRecipeItemSetPanelSettings.bounds.width }}x{{ settings.vendorRecipeItemSetPanelSettings.bounds.height }})
      </ng-container>
      <ng-template #unsetBoundsTemplate>
        <i>{{ 'vendor-recipe.item-set-panel.unset' | translate }}</i>
      </ng-template>
      <br />
      <button mat-raised-button (click)="onResetItemSetPanelBoundsClick()">
        {{ 'vendor-recipe.item-set-panel.reset' | translate }}
      </button>
    </div>
    <div class="col-6">
      <div class="value-range">
        <label class="label">
          {{ 'vendor-recipe.item-set-panel.background-opacity' | translate }}:
          {{ getRoundedPercentage(settings.vendorRecipeItemSetPanelSettings.backgroundOpacity) }}
        </label>
        <div class="slider">
          <mat-slider min="0.05"
                      max="1"
                      step="0.05"
                      tickInterval="1"
                      [displayWith]="getRoundedPercentage"
                      [(value)]="settings.vendorRecipeItemSetPanelSettings.backgroundOpacity">
          </mat-slider>
          <span>100%</span>
        </div>
      </div>
    </div>
  </div>
</app-card>
<div cdkDropList (cdkDropListDropped)="onVendorRecipeSettingsDrop($event)">
  <app-vendor-recipe-item-set-settings *ngFor="let vendorRecipeSettings of settings.vendorRecipeItemSetSettings; let index = index"
                                       [globalSettings]="settings"
                                       [identifier]="index"
                                       [settings]="vendorRecipeSettings"
                                       [defaultSettings]="getDefaultRecipeSettings(vendorRecipeSettings.type)"
                                       (resetToDefault)="onResetRecipeSettingsToDefaultClick(index)"
                                       (remove)="onRemoveRecipeSettingsClick(index)"
                                       class="draggable"
                                       cdkDrag>
    <div slot="drag-handle" class="col-5 drag-handle" cdkDragHandle>&nbsp;</div>
    <mat-card *cdkDragPreview>{{ (index + 1) }}. {{ 'vendor-recipe.item-set-settings.title.' + (vendorRecipeTypes.values[vendorRecipeSettings.type] | lowercase) | translate }}</mat-card>
    <mat-card class="placeholder" *cdkDragPlaceholder></mat-card>
  </app-vendor-recipe-item-set-settings>
</div>
<app-card [title]="'vendor-recipe.create-new-settings' | translate">
  <div class="row">
    <div class="col-2" *ngFor="let vendorRecipeType of vendorRecipeTypes.keys">
      <button mat-raised-button (click)="onAddItemSetRecipe(vendorRecipeType)">
        {{ 'vendor-recipe.item-set-settings.title.' + (vendorRecipeTypes.values[vendorRecipeType] | lowercase) | translate }}
      </button>
    </div>
  </div>
</app-card>
